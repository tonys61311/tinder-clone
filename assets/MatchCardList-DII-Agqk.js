import{d as y,b as p,c as u,o as c,g as d,j as m,T as $,k as L,F as b,r as k,l as D,h as x,v as R,u as f,t as w,p as T,e as _,z as j}from"./index-mcQOza9L.js";import{c as I,_ as C}from"./MatchCard.vue_vue_type_style_index_0_scoped_af1c9d2a_lang-lq0khR1n.js";import{X as M}from"./x-yikAkmpX.js";import{H as B}from"./heart-C8FExVQM.js";/**
 * @license lucide-vue-next v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=I("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=I("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),A={class:"flex items-center justify-center h-full"},F={class:"relative w-full max-w-sm aspect-[3/4] rounded-xl overflow-hidden"},H=["src"],N={class:"absolute top-4 left-4 right-4 flex space-x-1"},V={class:"absolute bottom-20 left-4 text-white text-xl font-bold"},q={class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-6"},E=y({__name:"MatchCard",props:{name:{},age:{},photos:{}},emits:["like","dislike"],setup(v,{emit:n}){const o=v,t=n,e=p(0),r=p("right"),g=()=>{e.value<o.photos.length-1&&(r.value="right",e.value++)},h=()=>{e.value>0&&(r.value="left",e.value--)};return(s,l)=>(c(),u("div",A,[d("div",F,[m($,{tag:"div"},{default:L(()=>[(c(!0),u(b,null,k(s.photos,(a,i)=>D((c(),u("img",{key:a,src:a,class:x(["absolute inset-0 w-full h-full object-cover transition-transform duration-300",[r.value==="right"&&e.value===0&&"transition-none",i===e.value?r.value==="right"?"translate-x-0 animate-slide-left":"translate-x-0 animate-slide-right":r.value==="right"?"animate-slide-left-out":"animate-slide-right-out"]])},null,10,H)),[[R,i===e.value]])),128))]),_:1}),l[2]||(l[2]=d("div",{class:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"},null,-1)),d("div",N,[(c(!0),u(b,null,k(s.photos,(a,i)=>(c(),u("div",{key:i,class:x(["flex-1 h-1 rounded transition-all duration-300",e.value===i?"bg-white":"bg-white/30"])},null,2))),128))]),d("button",{onClick:h,class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full"},[m(f(S),{class:"w-4 h-4"})]),d("button",{onClick:g,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full"},[m(f(z),{class:"w-4 h-4"})]),d("div",V,w(s.name)+", "+w(s.age),1),d("div",q,[m(f(C),{icon:f(M),onClick:l[0]||(l[0]=a=>t("dislike")),buttonClass:"bg-gray-800 text-white p-3 rounded-full"},null,8,["icon"]),m(f(C),{icon:f(B),onClick:l[1]||(l[1]=a=>t("like")),buttonClass:"bg-pink-600 text-white p-3 rounded-full"},null,8,["icon"])])])]))}}),G=(v,n)=>{const o=v.__vccOpts||v;for(const[t,e]of n)o[t]=e;return o},O=G(E,[["__scopeId","data-v-af1c9d2a"]]),P={class:"relative flex justify-center items-center w-full h-full"},Q=y({__name:"MatchCardList",setup(v){const n=T(),o=_(()=>n.recommendedUsers),t=_({get:()=>n.currentRecommendedUserIndex,set:s=>{n.setCurrentRecommendedUserIndex(s)}}),e=p(!1),r=p("right"),g=_(()=>o.value.slice(t.value,t.value+2).reverse()),h=(s,l)=>{e.value||t.value>=o.value.length||(r.value=s?"right":"left",e.value=!0,s&&n.addToMatchedUsers(l),setTimeout(()=>{t.value++,e.value=!1,t.value+2>=o.value.length&&n.loadRecommendedUsers()},300))};return(s,l)=>(c(),u("div",P,[(c(!0),u(b,null,k(g.value,(a,i)=>(c(),u("div",{key:a.id,class:x(["absolute w-full transition-transform duration-300",[i===0?"translate-x-2 translate-y-2":"",i===1&&e.value?r.value==="right"?"animate-slide-right-out":"animate-slide-left-out":""]])},[m(f(O),j({ref_for:!0},a,{onLike:U=>h(!0,a.id),onDislike:U=>h(!1,a.id)}),null,16,["onLike","onDislike"])],2))),128))]))}});export{Q as default};
